import React, { Component } from 'react'
import styled from 'styled-components'

import os from 'os'

const Page = styled.div`
    box-sizing: border-box;
    width: 100%;
    max-width: 1200px;
    padding: 0 15px;
    margin: 0 auto 40px;
    font-size: 16px;
`

class Graph extends Component{

    state = {
        position: [],
        pValue: [],
        dataLoaded: false
    }

    componentDidMount() {
        this.mounted = true
        this.loadData()
    }

    loadData() {
        var pvals

        // fetch('/file.txt')
        // .then(res => {return res.text()})
        // .then(data => {
        //     pvals = data
        //     })

        var pvals = `61987 0.0341175335837977
61989 0.0341175335837977
61987 6.61911163443731
61989 6.61911163443731
233473 1.30855426630416
233473 1.02397959139215
542099 0.0541545459164531
565591 0.234932691101198
565976 0.212946628849994
566048 0.212946628849994
568214 0.78266348064899
568308 0.514509730694677
568412 0.608884566330686
568451 0.609083966854101
568478 0.624761288088562
568562 0.622281566847585
568589 0.622281566847585
568610 0.624761288088562
568631 0.608884566330686
568644 0.608884566330686
568673 0.609083966854101
568709 0.921184503891217
569933 0.758622590970265
662622 3.19640142010228
542099 0.131317676763903
565591 1.74167825617983
565976 0.636329535142074
566048 0.636329535142074
568214 1.21211427093398
568308 0.151676071966196
568412 1.19181294849494
568451 1.1872666860541
568478 1.17237042722168
568562 1.17839137141889
568589 1.17839137141889
568610 1.17237042722168
568631 1.19181294849494
568644 1.19181294849494
568673 1.1872666860541
568709 1.37396190305662
569933 0.955138184474996
662622 0.332665687531541
542099 0.491668610121669
565591 1.77452995081909
565976 1.39382573094789
566048 1.39382573094789
568214 1.38184710547025
568308 0.519982548429374
568412 0.985729190929752
568451 0.985739181407856
568478 1.01825138339929
568562 1.02118165164449
568589 1.02118165164449
568610 1.01825138339929
568631 0.985729190929752
568644 0.985729190929752
568673 0.985739181407856
568709 0.475098978062681
569933 1.30086400687237
662622 0.518102985675556
542099 0.00213739274490481
565591 0.665444887342811
565976 0.923112365492715
566048 0.923112365492715
568214 0.746713140128734
568308 0.494811092798168
568412 0.25660263861495
568451 0.256680021448373
568478 0.1780433427919
568562 0.179719833964139
568589 0.179719833964139
568610 0.1780433427919
568631 0.25660263861495
568644 0.25660263861495
568673 0.256680021448373
568709 0.0086963240080631
569933 0.833388960996633
662622 0.114633528598362
542099 0.143434898764371
565591 0.0644131441886878
565976 0.118928115087168
566048 0.118928115087168
568214 0.0453262222825608
568308 0.153051369440069
568412 0.117126309323656
568451 0.117126071610905
568478 0.0812385047437773
568562 0.0827996857045899
568589 0.0827996857045899
568610 0.0812385047437773
568631 0.117126309323656
568644 0.117126309323656
568673 0.117126071610905
568709 0.0217493506757038
569933 0.0712655102929453
662622 0.505272963728791
542099 0.362684032622183
565591 0.572463075183748
565976 0.773970022628751`

        var lines = pvals.split(os.EOL)

        var pos = []
        var pVal = []
        var line
        
        for(var i = 0; i < lines.length; i++){
            line = lines[i].split(' ')
            pos.push(line[0].toString())
            pVal.push(line[1].toString())
        }

        this.setState({
            position: pos,
            pValue: pVal,
            dataLoaded: true
        })
        
    }

    render() {
        console.log(this.state)
        return (
            <div>
                Test: {this.state.position.toString()}
            </div>
        )
    }
}

export default () => (
    <Page>
        <Graph/>
    </Page>
)